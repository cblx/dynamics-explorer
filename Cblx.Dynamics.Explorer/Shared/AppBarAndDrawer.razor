@inject AppBarService AppBarService
<MudAppBar Dense>
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
    @_appBarContent
</MudAppBar>
<MudDrawer @bind-Open="@_drawerOpen">
    <NavMenu />
</MudDrawer>
@code {
    bool _drawerOpen = true;
    private RenderFragment? _appBarContent;
    protected override void OnInitialized()
    {
        AppBarService.ContentChanged = () =>
        {
            _appBarContent = AppBarService.Content;
            StateHasChanged();
        };
    }

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}
